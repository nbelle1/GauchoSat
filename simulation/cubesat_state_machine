// CubeSat State Machine
digraph CubeSat {
	compound=true rankdir=TB
	Entry [label="" shape=point]
	Launch1 [label="Launch State" shape=box]
	Entry -> Launch1 [label=Start]
	subgraph cluster_leo {
		label="LEO " rankdir=LR style=rounded
		Leo1 [label="entry:" shape=plaintext style=dotted]
		Leo2 [label="exit:" shape=plaintext style=dotted]
		subgraph cluster_charge {
			label=Charge rankdir=TB style=rounded
			Charge1 [label="run: " shape=plaintext]
			rank=same
		}
		subgraph cluster_active {
			label=Active rankdir=TB style=rounded
			Active1 [label="run: " shape=plaintext]
			rank=same
		}
		Charge1 -> Active1 [label="TICK_SIG \\ Battery > 65%" lhead=cluster_active ltail=cluster_charge]
		Active1 -> Charge1 [label="TICK_SIG \\ Battery < 60%" lhead=cluster_charge ltail=cluster_active]
	}
	Launch1 -> Charge1 [label="LEO Signal" lhead=cluster_leo]
}
